/******************************************************
*                                                     *
*   Simple Overlay - jQuery Plugin                    *
*                                                     *
*   Purpose: This project contains a simple and full  *
*            configurable jQuery plugin that loads    *
*            a cookie-controlled overlay on a page    *
*            which can also only be shown once        *
*            within a specific period. The loading    *
*            of the overlay can be triggered          *
*            automatically or by specific events.     *
*                                                     *
*   Author: Andreas Kar (thex) <andreas.kar@gmx.at>   *
*   Repository: https://git.io/JvpkM                  *
*                                                     *
******************************************************/

!function(o){var a;o.fn.simpleOverlay=function(e){(a=o.extend(!0,{},o.fn.simpleOverlay.defaults,e)).container=this,a.attachContainer(),a.initializeOpen(),a.triggerClose(),a.triggerCookieOpen(),a.triggerAlwaysOpen(),a.triggerCustom()},o.fn.simpleOverlay.defaults={attach:!0,openOnInit:!0,checkOnInit:!0,background:"",style:"black",containerId:"simple-overlay",contentContainerClass:"simple-container",hideClass:"simple-hide",content:"",revision:0,clickEvents:{open:[],alwaysOpen:[],close:[]},cookie:{name:"simple-overlay",expiry:30},attachContainer:function(){a.beforeAttachContainer.call(a),a.attach&&o(a.container).each(function(){var e,n,t;e=o("<div>").attr("id",a.containerId).addClass(a.hideClass).addClass(a.containerId),a.style.startsWith("w")&&e.addClass("overlay-white"),n=o("<div>").addClass(a.contentContainerClass).html(a.content),t=o('<button type="button" class="close" aria-label="Close"><span aria-hidden="true">Ã—</span>'),e.append(n),e.append(t),o(this).prepend(e)}),a.afterAttachContainer.call(a)},initializeOpen:function(){a.openOnInit&&(a.checkOnInit?a.overlayOpenCheck():a.overlayOpen())},overlayOpen:function(){var e=o("#"+a.containerId),n=0,t="";a.beforeOverlayOpen.call(a),a.style.startsWith("w")&&(n=255),""!=a.background&&(e.addClass("background-image"),t="background-image: linear-gradient(rgba("+n+", "+n+", "+n+",.6),rgba("+n+","+n+","+n+",.6)),url("+a.background+");"),e.removeClass(a.hideClass),e.attr("style",t),a.afterOverlayOpen.call(a)},overlayOpenCheck:function(){var e=a.getCookie();(""==e||"true"==e&&0<a.revision||parseInt(e)<a.revision)&&a.overlayOpen()},overlayClose:function(){a.beforeOverlayClose.call(a),o("#"+a.containerId).addClass(a.hideClass),a.setCookie(),a.afterOverlayClose.call(a)},setCookie:function(){var e,n=new Date;a.beforeSetCookie.call(a),n.setTime(n.getTime()+24*a.cookie.expiry*60*60*1e3),e="expires="+n.toUTCString(),document.cookie=a.cookie.name+"="+a.revision+";"+e+";path=/",a.afterSetCookie.call(a)},getCookie:function(){var e=a.cookie.name+"=",n=document.cookie.split(";");a.beforeGetCookie.call(a);for(var t=0;t<n.length;t++){for(var o=n[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return a.afterGetCookie.call(a),o.substring(e.length,o.length)}return a.afterGetCookie.call(a),""},triggerOpen:function(e){var n=e?a.clickEvents.alwaysOpen.join(","):a.clickEvents.open.join(",");""!=n&&o(n).click(function(){e?a.overlayOpen():a.overlayOpenCheck()})},triggerCookieOpen:function(){a.triggerOpen(!1)},triggerAlwaysOpen:function(){a.triggerOpen(!0)},triggerClose:function(){var e="#"+a.containerId;0<a.clickEvents.close.length&&(e+=","+a.clickEvents.close.join(",")),o(e).click(function(){a.overlayClose()})},triggerCustom:function(){},beforeAttachContainer:function(){},beforeOverlayOpen:function(){},beforeOverlayClose:function(){},beforeSetCookie:function(){},beforeGetCookie:function(){},afterAttachContainer:function(){},afterOverlayOpen:function(){},afterOverlayClose:function(){},afterSetCookie:function(){},afterGetCookie:function(){}}}(jQuery);